{
  "name" : "APIM Api Test",
  "id" : "APIMApiTest",
  "thumbnailURL" : "",
  "configs" : { 
    "pubsub" : {
      "types" : ["subscriber"]
    },
    "providerConfig" : {
      "configs" : {
        "type" : "RDBMSStreamingDataProvider",
        "config" : {
          "datasourceName": "APIM_ANALYTICS_DB",
          "queryData" : {
            "totalQuery": "select SUM(AGG_COUNT) as count from ApiUserPerAppAgg_HOURS group by apiName",
            "weekQuery" : "select COUNT(AGG_COUNT) as count from ApiUserPerAppAgg_MINUTES where AGG_EVENT_TIMESTAMP between '{{weekStart}}' and '{{weekEnd}}' group by apiName"
          },
          "tableName": "ApiResPathPerApp_HOURS",
          "incrementalColumn": "AGG_COUNT",
          "publishingLimit": 2147483647,
          "purgingInterval": 6,
          "purgingLimit": 6,
          "isPurgingEnable": true
        }
      }
    },
    "options": [
      {
        "id" : "header",
        "title" : "Header",
        "type" : {
          "name" : "BOOLEAN",
          "possibleValues" : [
            true,
            false
          ]
        },
        "defaultValue": true
      }
    ]
  }
}